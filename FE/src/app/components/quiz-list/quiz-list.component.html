<!-- eslint-disable @angular-eslint/template/interactive-supports-focus -->
<!-- eslint-disable @angular-eslint/template/click-events-have-key-events -->
<div class="container pt-5">
  <div class="row justify-content-center">
    <div class="col-md-12">
      <div class="card upd-card mb-3" style="height: 100%">
        <div class="row g-0 h-100">
          <div class="col-md-12 d-flex align-items-center">
            <div class="card-body w-100">
              <div class="form-container">
                <div class="text-center mb-3">
                  <h2>Learning Style Assessment Management</h2>
                </div>

                <div class="row">
                  <div class="col">
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                      <button
                        type="button"
                        class="btn btn-outline-primary"
                        (click)="createQuiz()">
                        Create Learning Style Assessment Question
                      </button>
                    </div>
                  </div>
                </div>

                <div *ngIf="quizList" class="mt-4">
                  <ng-template [ngIf]="quizList.length" [ngIfElse]="notFound">
                    <div
                      class="quiz-box row justify-content-center align-items-start mt-4"
                      *ngFor="let quiz of quizList"
                      (click)="selectQuiz(quiz)">
                      <div class="col-md-8 col-sm-8">
                        <strong style="font-size: 20px">{{ quiz.id }}</strong>
                        <p class="m-0">
                          Last Updated: {{ quiz.lastCreatedTime }}
                        </p>
                      </div>
                      <div class="col-md-4 col-sm-4" style="text-align: end">
                        <span
                          class="badge rounded-pill text-bg-primary"
                          style="margin-right: 5px"
                          *ngIf="quiz.isDefault">
                          Default
                        </span>

                        <span
                          class="badge rounded-pill"
                          [ngClass]="{
                            'text-bg-secondary': quiz.status === 'draft',
                            'text-bg-success': quiz.status === 'active',
                            'text-bg-Warning': quiz.status === 'inactive'
                          }">
                          {{ quiz.status }}
                        </span>
                      </div>
                    </div>
                  </ng-template>

                  <ng-template #notFound>
                    <h4 class="mt-3 text-center">Quiz not found!</h4>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ngx-loading
  [show]="loading"
  [config]="{ backdropBorderRadius: '3px' }"></ngx-loading>
